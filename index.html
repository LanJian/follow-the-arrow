<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>game101</title>
  <script src="https://aframe.io/releases/0.3.2/aframe.js"></script>
  <script src="vendor/fulltilt.min.js"></script>

  <script src="src/component/audioanalyser/build.js"></script>
  <script src="src/component/audioanalyser/audioanalyser-levels-scale.js"></script>
  <script src="src/component/audioanalyser/scale-y-color.js"></script>
  <script src="src/component/arrow.js"></script>
  <script src="src/component/arrowManager.js"></script>
  <script src="src/component/track.js"></script>
  <script src="src/component/random_sky.js"></script>
  <script src="src/component/collider-check.js"></script>
  <script src="src/component/player.js"></script>
</head>
<body>
  <a-scene>
    <a-assets>
      <img id="sky1" src="29463770643_52c0ef3d76_k_d.jpg">
      <img id="sky2" src="29485039074_33f3a92e81_k_d.jpg">
      <img id="sky3" src="29532167094_0d5ed7b17e_k_d.jpg">
      <img id="sky4" src="29580618383_f217461242_k_d.jpg">
      <img id="sky5" src="29983056032_11ad60287d_k_d.jpg">
      <img id="sky6" src="30105346071_bb4473c28b_k_d.jpg">
      <img id="sky7" src="30157347116_1870679beb_k_d.jpg">
      <img id="sky8" src="30177827355_a44902b5d1_k_d.jpg">
      <img id="sky9" src="30358541445_c09870199f_k_d.jpg">
      <img id="sky10" src="30372255125_8ea1e41d8f_k_d.jpg">
      <img id="sky11" src="nanoscape.jpg">
      <img id="sky12" src="sky.jpg">
      <a-mixin id="bar"
          geometry="primitive: box; width: 3.8; height: 1.5"
          material="color: black"
          scale-y-color="from: 10 60 10; to: 180 255 180; maxScale: 30">
      </a-mixin>
      <audio id="song" src="take_five.mp3" autoplay loop></audio>
    </a-assets>
    <!--New lights. -->
    <a-light type="ambient" color="#333"></a-light>

    <!-- Background. -->
    <a-sky random_sky="12"></a-sky>

		<a-entity id="camera"
        class="camera"
        position="0 1.7 5"
			  camera player
        look-controls>
      <a-cursor color="#2E3A87">
      </a-cursor>
    </a-entity>

    <a-entity class="track" id="track" track="speed: 1">
      <a-box id='segment1' color="#7F7" width="3" height="1" depth="100" position="0 0 100">
        <a-entity position="0 1.7 -10" id="arrow-manager-1" arrow-manager="enabled: true; spawnFreqMs: 2500"></a-entity>
        <a-box color="#7F7" width="1" height="10" depth="1"
               position="1.5 0 50">
        </a-box>
      </a-box>
      <a-box id='segment2' color="#F77" width="3" height="1" depth="100" position="0 0 0">
        <a-entity position="0 1.7 -10" id="arrow-manager-2" arrow-manager="enabled: true; spawnFreqMs: 2500"></a-entity>
        <a-box color="#F77" width="1" height="10" depth="1" position="-1.5 0 50">
        </a-box>
      </a-box>
      <a-box id='segment3' color="#77F" width="3" height="1" depth="100" position="0 0 -100">
        <a-entity position="0 1.7 -10" id="arrow-manager-3" arrow-manager="enabled: true; spawnFreqMs: 2500"></a-entity>
        <a-box color="#77F" width="1" height="10" depth="1"
               position="1.5 0 50">
        </a-box>
      </a-box>

      <a-light id='light1' type="point" color="#888" position="0 20 150" distance="150"></a-light>
      <a-light id='light2' type="point" color="#888" position="0 20 0" distance="150"></a-light>
      <a-light id='light3' type="point" color="#888" position="0 20 -150" distance="150"></a-light>

      <a-entity id="audio_bars1" position="0 0 150">
        <a-entity
            audioanalyser="src: #song; smoothingTimeConstant: 0.9"
            audioanalyser-levels-scale="max: 100; multiplier: 0.06"
            entity-generator="mixin: bar; num: 25"
            layout="type: line; margin: 4"
            position="-50 0 0"
            rotation="0 90 0">
        </a-entity>
        <a-entity
            audioanalyser="src: #song; smoothingTimeConstant: 0.9"
            audioanalyser-levels-scale="max: 100; multiplier: 0.06"
            entity-generator="mixin: bar; num: 25"
            layout="type: line; margin: 4"
            position="50 0 0"
            rotation="0 90 0">
        </a-entity>
      </a-entity>
      <a-entity id="audio_bars2" position="0 0 50">
        <a-entity
            audioanalyser="src: #song; smoothingTimeConstant: 0.9"
            audioanalyser-levels-scale="max: 100; multiplier: 0.06"
            entity-generator="mixin: bar; num: 25"
            layout="type: line; margin: 4"
            position="-50 0 0"
            rotation="0 90 0">
        </a-entity>
        <a-entity
            audioanalyser="src: #song; smoothingTimeConstant: 0.9"
            audioanalyser-levels-scale="max: 100; multiplier: 0.06"
            entity-generator="mixin: bar; num: 25"
            layout="type: line; margin: 4"
            position="50 0 0"
            rotation="0 90 0">
        </a-entity>
      </a-entity>
      <a-entity id="audio_bars3" position="0 0 -50">
        <a-entity
            audioanalyser="src: #song; smoothingTimeConstant: 0.9"
            audioanalyser-levels-scale="max: 100; multiplier: 0.06"
            entity-generator="mixin: bar; num: 25"
            layout="type: line; margin: 4"
            position="-50 0 0"
            rotation="0 90 0">
        </a-entity>
        <a-entity
            audioanalyser="src: #song; smoothingTimeConstant: 0.9"
            audioanalyser-levels-scale="max: 100; multiplier: 0.06"
            entity-generator="mixin: bar; num: 25"
            layout="type: line; margin: 4"
            position="50 0 0"
            rotation="0 90 0">
        </a-entity>
      </a-entity>
    </a-entity>


    <a-circle color="#333"
      opacity="0.8"
      rotation="-90 0 0"
      radius="500"
      roughness="1">
    </a-circle>
  </a-scene>
  <script src="src/main.js"></script>
</body>
</html>
